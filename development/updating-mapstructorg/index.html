<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Updating mapstruct.org &ndash; MapStruct</title>
        <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="/css/uikit.gradient.min.css" />
        <link rel="stylesheet" href="/css/prettify.css" />
        <link rel="stylesheet" href="/css/font-awesome.css" />
        <link rel="stylesheet" href="/css/styles.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" />
        <link rel="alternate" href="/news/index.xml" type="application/rss+xml" title="MapStruct" />
        <script src="/js/jquery-3.1.1.min.js"></script>
        <script src="/js/uikit.min.js"></script>
        <script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-41136939-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    </head>

    <body>
        <nav class="uk-navbar uk-margin-large-bottom uk-navbar-attached">
            <a class="uk-navbar-brand ms-hidden-small ms-navbar-brand" href="/">MapStruct</a>
            <ul class="uk-navbar-nav ms-hidden-small">
            

    <li>
    <a href="/news/">News</a>
    </li>

    <li>
    <a href="/documentation/installation/">Documentation</a>
    </li>

    <li>
    <a href="/community/getting-help/">Community</a>
    </li>

    <li class="uk-active">
    <a href="/development/contributing/">Development</a>
    </li>

    <li>
    <a href="/faq/">FAQ</a>
    </li>

            </ul>
            <a href="#nav-small" class="ms-visible-small uk-navbar-toggle" data-uk-offcanvas="{mode:'slide'}"></a>
            <a class="uk-navbar-brand uk-navbar-center ms-visible-small ms-navbar-brand" href="/">MapStruct</a>
        </nav>

        <div id="nav-small" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <ul class="uk-nav uk-nav-offcanvas" data-uk-nav>
                

    <li>
    <a href="/news/">News</a>
    </li>

    <li>
    <a href="/documentation/installation/">Documentation</a>
    </li>

    <li>
    <a href="/community/getting-help/">Community</a>
    </li>

    <li class="uk-active">
    <a href="/development/contributing/">Development</a>
    </li>

    <li>
    <a href="/faq/">FAQ</a>
    </li>

                </ul>
            </div>
        </div>




<div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">
    <div class="uk-grid">
        <div class="uk-width-medium-1-4">
            <div class="ms-aside">
            
    <aside>
    <div id="sidebar">
        <ul class="uk-nav uk-nav-side">
        
            <li class="uk-nav-header">Development</li>

                    
            <li>
                <a href="/development/contributing/"> Contributing </a>
            </li>
                    
            <li>
                <a href="/development/team/"> Team </a>
            </li>
                    
            <li>
                <a href="/development/technical-documentation/"> Technical Documentation </a>
            </li>
                    
            <li>
                <a href="/development/debugging/"> Debugging </a>
            </li>
                    
            <li class="uk-active">
                <a href="/development/updating-mapstructorg/"> Updating mapstruct.org </a>
            </li>
                    
            <li>
                <a href="/development/ide-setup/"> IDE Set-Up </a>
            </li>
                    
            <li>
                <a href="/development/license/"> License </a>
            </li>
                    
        </ul>
    </div>
</aside>


            </div>
        </div>
        <div class="uk-width-medium-3-4 ms-main">
            
<div>
    <div class="uk-flex uk-flex-space-between">
        <div>
            <h1>Updating mapstruct.org</h1>
        </div>
        <div class="uk-hidden-small uk-float-right ms-edit-on-github">
            <a href="https://github.com/mapstruct/mapstruct.org/tree/master/content/development/updating-mapstructorg.md" title="Open the source of this page on GitHub" target="_blank"><i class="fa fa-github"></i> Edit on GitHub</a>
        </div>
    </div>
</div>
<div><p>As MapStruct itself, this web site is open-source, too. You can find it&rsquo;s source code <a href="https://github.com/mapstruct/mapstruct.org">here</a>.</p>
<p>The website is built using the <a href="http://gohugo.io/">Hugo</a> static site generator. So it&rsquo;s recommended to spend a few minutes reading the <a href="http://gohugo.io/overview/introduction/">Getting Started</a> section of the Hugo docs if you are not familiar with it yet.</p>
<p>The site is deployed to <a href="https://help.github.com/categories/github-pages-basics/">GitHub Pages</a> (as a &ldquo;project page&rdquo;, using the &ldquo;gh-pages&rdquo; branch).</p>
<h2 id="set-up"><a class="ms-header-link" href="#set-up"><i class="fa fa-link"></i></a>Set-up</h2>
<p>Install Hugo by following the instructions given on <a href="http://gohugo.io/">its homepage</a>. E.g. using brew if you are on OS X:</p>
<pre class="prettyprint linenums lang-">
brew update &amp;&amp; brew install hugo
</pre>

<p>Make sure that you are using Git 2.5 or later due the worktree feature used for publication (see below).
Check out the web site&rsquo;s source code and assign the name &ldquo;upstream&rdquo; to the remote repository by running:</p>
<pre class="prettyprint linenums lang-">
git clone git@github.com:mapstruct/mapstruct.org.git
git remote rename origin upstream
</pre>

<h2 id="local-preview"><a class="ms-header-link" href="#local-preview"><i class="fa fa-link"></i></a>Local preview</h2>
<p>Hugo comes with a built-in server for previewing the web site locally. Start it by running:</p>
<pre class="prettyprint linenums lang-">
hugo server --buildDrafts
</pre>

<p>The website can then be accessed at <a href="http://localhost:1313/">http://localhost:1313/</a>.
The server injects some magic JavaScript which enables auto-reload of rendered pages in the browser as the source files are edited.</p>
<h2 id="content-authoring"><a class="ms-header-link" href="#content-authoring"><i class="fa fa-link"></i></a>Content authoring</h2>
<p>Web site contents are written using Markdown, source files are located under <em>content</em>. You can mark a new page, e.g. a news post, as a draft which will cause it to be ignored when generating the production website:</p>
<pre class="prettyprint linenums lang-">
---
title: &#34;My blog post&#34;
draft: true
---
Lorem ipsum dolor sit amet, consectetur adipiscing elit...
</pre>

<p>For news posts a short summary is shown on the home page and the news landing page. Add the &ldquo;more&rdquo; comment to your posts after the part of the post that should be shown in the summary, e.g. an introductory first paragraph:</p>
<pre class="prettyprint linenums lang-">
---
title: &#34;My blog post&#34;
---
Two or three sentences as a teaser.

And then the remainder of the post.
</pre>

<h2 id="adding-an-entry-to-the-team-page"><a class="ms-header-link" href="#adding-an-entry-to-the-team-page"><i class="fa fa-link"></i></a>Adding an entry to the team page</h2>
<p>The <a href="/development/team">team page</a> is a data-driven page. If you want to be listed on the page, add a new file to <em>data/team</em> following the structure of the existing files in that directory.</p>
<h2 id="publishing-to-mapstructorg"><a class="ms-header-link" href="#publishing-to-mapstructorg"><i class="fa fa-link"></i></a>Publishing to mapstruct.org</h2>
<p>The website is automatically published for every commit to master via <a href="https://github.com/mapstruct/mapstruct.org/actions?query=workflow%3A%22GitHub+Pages%22">this GitHub Workflow</a>.
The workflow generates the HTML with the <code>hugo</code> command in the <em>public</em> directory.
The contents of that directory are then pushed to the &ldquo;gh-pages&rdquo; branch of the website repository.</p>
<p>To make publication as smooth as possible, the script <em>scripts/generate-site.sh</em> is taking care of the regeneration. It calls <code>hugo</code> and afterwards removes some generated files which are not needed.</p>
<p>A typical editing process will look like this (assuming you start on the master directory):</p>
<pre class="prettyprint linenums lang-">
# update local branches
git fetch upstream
git merge upstream/master

# do your changes...

# commit
git commit -a -m &#34;Some website change&#34;

# deploy
git push upstream master
</pre>

</div>

        </div>
    </div>
</div>

        <div class="ms-footer">
            <div class="uk-container uk-container-center uk-vertical-align uk-height-1-1">
                <div class="uk-vertical-align-middle uk-width-1-1">
                    <div class="uk-grid-small" >
                        <div class="uk-width-1-1 ">
                            <ul class="uk-subnav uk-subnav-line uk-flex-center ms-subnav-footer">
                                <li><a class="ms-link-footer" href="/documentation/installation">Documentation</a></li>
                                <li><a class="ms-link-footer" href="https://github.com/mapstruct/mapstruct">Source Code</a></li>
                                <li><a class="ms-link-footer" href="https://groups.google.com/forum/#!forum/mapstruct-users">Google Group</a></li>
                                <li><a class="ms-link-footer" href="https://gitter.im/mapstruct/mapstruct-users">Gitter</a></li>
                                <li><a class="ms-link-footer" href="http://stackoverflow.com/questions/tagged/mapstruct">StackOverflow</a></li>
                                <li><a class="ms-link-footer" href="https://twitter.com/GetMapStruct">Twitter</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="uk-grid">
                        <div class="uk-width-1-1 ms-subnav-footer">
                            Â© The MapStruct authors 2019
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
           prettyPrint();
        </script>
    </body>
</html>

