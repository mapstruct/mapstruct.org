<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) -->
<title>DecoratedWith (MapStruct 1.7.0.Beta1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.mapstruct, annotation type: DecoratedWith">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="org.mapstruct.DecoratedWith class">
<meta name="keywords" content="value()">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DecoratedWith.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-required-element-summary">Required</a></li>
<li>Optional</li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-required-element-summary">Required</a>&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.mapstruct</a></div>
<h1 title="Annotation Type DecoratedWith" class="title">Annotation Type DecoratedWith</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html#CLASS" title="class or interface in java.lang.annotation" class="external-link">CLASS</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">DecoratedWith</span></div>
<div class="block">Specifies a decorator to be applied to a generated mapper, which e.g. can be used to amend mappings performed by
 generated mapping methods.
 <p>
 A typical decorator implementation will be an abstract class and only implement/override a subset of the methods of
 the mapper type which it decorates. All methods not implemented or overridden by the decorator will be implemented by
 the code generator by delegating to the generated mapper implementation.
 <p>
 <b>NOTE:</b> The usage of decorated mappers differs depending on the selected component model.
 <p>
 <b>NOTE:</b> This annotation is not supported for the component model <code>cdi</code>. Use CDI's own
 <a href="https://docs.jboss.org/cdi/spec/1.0/html/decorators.html"><code>@Decorator</code></a> feature instead.
 </p>
 <h2 id="examples-heading">Examples</h2>
 <p>
 For the examples below, consider the following mapper declaration:

 <pre>
 &#64;Mapper(componentModel = "...")
 &#64;DecoratedWith(PersonMapperDecorator.class)
 public interface PersonMapper {

     &#64;Mapping(target = "name", ignore = true)
     PersonDto personToPersonDto(Person person);

     AddressDto addressToAddressDto(Address address); // not touched by the decorator
 }
 </pre>

 <h3 id="1-component-model-default--heading">1. Component model 'default'</h3>
 <h4 id="referencing-the-original-mapper-in-the-decorator-heading">Referencing the original mapper in the decorator</h4>
 <p>
 If a constructor with a single parameter accepting the type of the decorated mapper is present, a delegate with
 generated implementations of all the mapper methods will be passed to this constructor. A typical implementation will
 store the passed delegate in a field of the decorator and make use of it in the decorator methods:

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     private PersonMapper delegate;

     public PersonMapperDecorator(PersonMapper delegate) {
         this.delegate = delegate;
     }

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4 id="using-the-decorated-mapper-heading">Using the decorated mapper</h4>
 <p>
 Nothing special needs to be done. When using <code>Mappers.getMapper( PersonMapper.class )</code>, the <em>decorator</em>
 is returned, with the injected original mapper.
 <h3 id="2-component-model-spring--heading">2. Component model 'spring'</h3>
 <h4 id="referencing-the-original-mapper-in-the-decorator-heading1">Referencing the original mapper in the decorator</h4>
 <p>
 The generated implementation of the original mapper is annotated with the Spring annotation
 <code>@org.springframework.beans.factory.annotation.Qualifier("delegate")</code>. To autowire that bean in your decorator,
 add that qualifier annotation as well:

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     &#64;Autowired
     &#64;org.springframework.beans.factory.annotation.Qualifier("delegate")
     private PersonMapper delegate;

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4 id="using-the-decorated-mapper-in-the-decorator-heading">Using the decorated mapper in the decorator</h4>
 <p>
 The generated class that extends the decorator is annotated with Spring's <code>@Primary</code> annotation. To autowire
 the decorated mapper in the application, nothing special needs to be done:

 <pre>
 &#64;Autowired
 private PersonMapper personMapper; // injects the decorator, with the injected original mapper
 </pre>

 <h3 id="3-component-model-jsr330-or-jakarta--heading">3. Component model 'jsr330' or 'jakarta'</h3>
 <h4 id="referencing-the-original-mapper-heading">Referencing the original mapper</h4>
 <p>
 JSR 330 / Jakarta Inject doesn't specify qualifiers and only allows to specifically name the beans. Hence,
 the generated implementation of the original mapper is annotated with
 <code>@Named("fully-qualified-name-of-generated-impl")</code> and <code>@Singleton</code> (please note that when
 using a decorator, the class name of the mapper implementation ends with an underscore). To inject that bean in your
 decorator, add the same annotation to the delegate field (e.g. by copy/pasting it from the generated class):

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     &#64;Inject
     &#64;javax.inject.Named("org.examples.PersonMapperImpl_")
     private PersonMapper delegate;

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4 id="using-the-decorated-mapper-in-the-decorator-heading1">Using the decorated mapper in the decorator</h4>
 <p>
 Unlike with the other component models, the usage site must be aware if a mapper is decorated or not, as for
 decorated mappers, the parameterless <code>@javax.inject.Named</code> annotation must be added to select the
 <em>decorator</em> to be injected:

 <pre>
 &#64;Inject
 &#64;javax.inject.Named
 private PersonMapper personMapper; // injects the decorator, with the injected original mapper
 </pre></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Gunnar Morling</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION TYPE REQUIRED MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-required-element-summary">
<h2>Required Element Summary</h2>
<div class="caption"><span>Required Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Required Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a><wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last even-row-color">
<div class="block">The decorator type.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;</span>&nbsp;<span class="element-name">value</span></div>
<div class="block">The decorator type. Must be an abstract class that extends or implements the mapper type to which it is applied.
 <p>
 For component-model <code>default</code>, the decorator type must either have a default constructor or a constructor
 with a single parameter accepting the type of the decorated mapper.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the decorator type</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><script>if (typeof useModuleDirectories !== 'undefined') {useModuleDirectories = false;}</script></small></p>
</footer>
</div>
</div>
</body>
</html>
