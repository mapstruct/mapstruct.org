<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Native Optional support, improved Kotlin Support, and much more: MapStruct 1.7.0.Beta1 is out &ndash; MapStruct</title>
        <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="/css/uikit.gradient.min.css" />
        <link rel="stylesheet" href="/css/prettify.css" />
        <link rel="stylesheet" href="/css/font-awesome.css" />
        <link rel="stylesheet" href="/css/styles.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" />
        <link rel="alternate" href="/news/index.xml" type="application/rss+xml" title="MapStruct" />
        <script src="/js/jquery-3.1.1.min.js"></script>
        <script src="/js/uikit.min.js"></script>
        <script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-41136939-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    </head>

    <body>
        <nav class="uk-navbar uk-margin-large-bottom uk-navbar-attached">
            <a class="uk-navbar-brand ms-hidden-small ms-navbar-brand" href="/">MapStruct</a>
            <ul class="uk-navbar-nav ms-hidden-small">
            

    <li class="uk-active">
    <a href="/news/"> News </a>
    </li>

    <li>
    <a href="/documentation/installation/">Documentation</a>
    </li>

    <li>
    <a href="/community/getting-help/">Community</a>
    </li>

    <li>
    <a href="/development/contributing/">Development</a>
    </li>

    <li>
    <a href="/sponsor/"> Sponsor </a>
    </li>

    <li>
    <a href="/faq/"> FAQ </a>
    </li>

    <li>
    <a href="https://github.com/mapstruct/mapstruct"><i class='fa fa-github fa-lg'></i> Code &amp; Issues </a>
    </li>

            </ul>
            <a href="#nav-small" class="ms-visible-small uk-navbar-toggle" data-uk-offcanvas="{mode:'slide'}"></a>
            <a class="uk-navbar-brand uk-navbar-center ms-visible-small ms-navbar-brand" href="/">MapStruct</a>
        </nav>

        <div id="nav-small" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <ul class="uk-nav uk-nav-offcanvas" data-uk-nav>
                

    <li class="uk-active">
    <a href="/news/"> News </a>
    </li>

    <li>
    <a href="/documentation/installation/">Documentation</a>
    </li>

    <li>
    <a href="/community/getting-help/">Community</a>
    </li>

    <li>
    <a href="/development/contributing/">Development</a>
    </li>

    <li>
    <a href="/sponsor/"> Sponsor </a>
    </li>

    <li>
    <a href="/faq/"> FAQ </a>
    </li>

    <li>
    <a href="https://github.com/mapstruct/mapstruct"><i class='fa fa-github fa-lg'></i> Code &amp; Issues </a>
    </li>

                </ul>
            </div>
        </div>




<div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">
    <div class="uk-grid">
        <div class="uk-width-medium-1-4">
            <div class="ms-aside">
            
    <ul class="uk-nav uk-nav-side">
    <li class="uk-nav-header">Latest News</li>
</ul>
<ul class="uk-nav uk-nav-sub">
    
    <li><a href="http://mapstruct.org/news/2026-02-01-mapstruct-1_7_0_Beta1-is-out/">Native Optional support, improved Kotlin Support, and much more: MapStruct 1.7.0.Beta1 is out</a></li>
    
    <li><a href="http://mapstruct.org/news/2025-11-15-mapstruct-spring-extensions-2-0-0-released/">MapStruct Spring Extensions 2.0.0 released</a></li>
    
    <li><a href="http://mapstruct.org/news/2025-03-14-mapstruct-spring-extensions-1-1-3-released/">MapStruct Spring Extensions 1.1.3 released</a></li>
    
    <li><a href="http://mapstruct.org/news/2024-11-09-mapstruct-1_6_3_bug-fix-released/">MapStruct 1.6.3 bug fix released</a></li>
    
    <li><a href="http://mapstruct.org/news/2024-09-15-mapstruct-1_6_1_bug-fix-released/">MapStruct 1.6.1 bug fix released</a></li>
    
    <li><a href="http://mapstruct.org/news/2024-08-31-mapstruct-spring-extensions-1-1-2-released/">MapStruct Spring Extensions 1.1.2 released</a></li>
    
    <li><a href="http://mapstruct.org/news/2024-08-12-mapstruct-1_6_0-is-out/">MapStruct 1.6.0 is out</a></li>
    
</ul>


            </div>
        </div>
        <div class="uk-width-medium-3-4 ms-main">
            
<article class="uk-article">
    <p class="uk-article-meta ms-article-date">
    <time>February 01, 2026</time>
</p>

<h1 class="uk-article-title"><a href="http://mapstruct.org/news/2026-02-01-mapstruct-1_7_0_Beta1-is-out/">Native Optional support, improved Kotlin Support, and much more: MapStruct 1.7.0.Beta1 is out</a></h1>

<p class="uk-article-meta ms-article-author">
    By <b>Filip Hrisafov</b> under 
    <span class="uk-badge">
    
        release
    </span>
    
    <span class="uk-badge">
    
        news
    </span>
    
</p>

    <div>
        <div><p>It&rsquo;s my pleasure to announce the first Beta release of MapStruct 1.7.</p>
<p>The new release comes with a lot of new functionality, e.g.:</p>
<ul>
<li>Native <code>Optional</code> support</li>
<li>Improved Kotlin support</li>
<li>Support for Java 21 Sequenced Collections</li>
<li>Support for ignoring multiple target properties at once</li>
</ul>
<p>Altogether, not less than <a href="https://github.com/mapstruct/mapstruct/issues?q=milestone%3A1.7.0.Beta1">41 issues</a> were fixed for this release.</p>
<p>This would not have been possible without our fantastic community of contributors:</p>
<ul>
<li><a href="https://github.com/xumk">@xumk</a></li>
<li><a href="https://github.com/cuzfrog">@cuzfrog</a></li>
<li><a href="https://github.com/MelleD">@MelleD</a></li>
<li><a href="https://github.com/codeswithritesh">@codeswithritesh</a></li>
<li><a href="https://github.com/Obolrom">@Obolrom</a></li>
<li><a href="https://github.com/tangyang9464">@tangyang9464</a></li>
<li><a href="https://github.com/Zegveld">@Zegveld</a></li>
<li><a href="https://github.com/rmschots">@rmschots</a></li>
<li><a href="https://github.com/zyberzebra">@zyberzebra</a></li>
<li><a href="https://github.com/SamilCan">@SamilCan</a></li>
</ul>
<p>Thank you everyone for all your hard work!</p>
<p>We are also accepting donations through <a href="https://opencollective.com/mapstruct%5BOpen">https://opencollective.com/mapstruct[Open</a> Collective] or <a href="https://github.com/sponsors/mapstruct%5BGitHub%5D">https://github.com/sponsors/mapstruct[GitHub]</a>.
We&rsquo;d like to thank all the supporters that supported us with donations in this period:</p>
<ul>
<li><a href="https://github.com/adessoSE">adesso SE</a></li>
<li><a href="https://github.com/cybozu">Cybozu</a></li>
<li><a href="https://opencollective.com/atomfrede">Frederik Hahne</a></li>
<li><a href="https://opencollective.com/lansana">Lansana</a></li>
<li><a href="https://github.com/mercedes-benz">Mercedes-Benz Group</a></li>
<li><a href="https://github.com/TotallyMehis">Miikka Ylätalo</a></li>
<li><a href="https://github.com/pmkyl">@pmkyl</a></li>
<li><a href="https://github.com/vemaeg">VEMA eG</a></li>
<li><a href="https://github.com/znight1020">znight1020</a></li>
</ul>
<p>Enough of the pep talk, let&rsquo;s take a closer look at some of the new features and enhancement!</p>
<h3 id="native-optional-support"><a class="ms-header-link" href="#native-optional-support"><i class="fa fa-link"></i></a>Native Optional support</h3>
<p>It is now possible to use <code>java.util.Optional</code> as a return and source type in MapStruct.
We are also supporting mapping optional properties.</p>
<p>e.g.</p>
<pre class="prettyprint linenums lang-java">
@Mapper
public interface CustomerMapper {

	Optional&lt;CustomerDto&gt; map(Customer customer);
}
</pre>

<p>Will generate something like</p>
<pre class="prettyprint linenums lang-java">
// GENERATED CODE
public class CustomerMapperImpl implements CustomerMapper {

    @Override
    public Optional&lt;CustomerDto&gt; map(Customer customer) {
        if ( customer == null ) {
            return Optional.empty();
        }

        CustomerDto customerDto = new CustomerDto();
        // ...
        if ( customer.getName().isPresent() ) {
            customerDto.setName( customer.getName().get() );
        }
        // ...

        return Optional.of( customerDto );
    }

    // ...
}
</pre>

<p>Note that we are not doing any <code>null</code> checks for the optional properties.
Instead, we do a check if the optional is present or not and map it.
There is also support for mapping <code>OptionalDouble</code> and <code>OptionalInt</code>.
The standard MapStruct out-of-the-box conversions are supported by unwrap the optional.</p>
<h3 id="improved-kotlin-support"><a class="ms-header-link" href="#improved-kotlin-support"><i class="fa fa-link"></i></a>Improved Kotlin support</h3>
<p>Support for Kotlin has been generally improved across the board.</p>
<p>MapStruct now natively detects that a class is a Kotlin data class and treats it accordingly when generating mappings.
This means that single field data classes, data classes with multiple constructors and constructors with all default parameters work as expected.</p>
<p>Additionally, we have added support for Kotlin&rsquo;s sealed classes as part of our <code>@SubclassMapping</code> support.</p>
<p>To use MapStruct with Kotlin, you need to add the following dependency to your project:</p>
<h4 id="maven"><a class="ms-header-link" href="#maven"><i class="fa fa-link"></i></a>Maven</h4>
<pre class="prettyprint linenums lang-xml">
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.14.1&lt;/version&gt; &lt;!-- or newer version --&gt;
    &lt;configuration&gt;
        &lt;source&gt;${java.version}&lt;/source&gt; &lt;!-- depending on your project --&gt;
        &lt;target&gt;${java.version}&lt;/target&gt; &lt;!-- depending on your project --&gt;
        &lt;annotationProcessorPaths&gt;
            &lt;path&gt;
                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;
                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;
                &lt;version&gt;${mapstruct.version}&lt;/version&gt;
            &lt;/path&gt;
            &lt;path&gt;
                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;
                &lt;artifactId&gt;kotlin-metadata-jvm&lt;/artifactId&gt;
                &lt;version&gt;${kotlin.version}&lt;/version&gt;
            &lt;/path&gt;
        &lt;!-- other annotation processors --&gt;
        &lt;/annotationProcessorPaths&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</pre>

<h4 id="gradle"><a class="ms-header-link" href="#gradle"><i class="fa fa-link"></i></a>Gradle</h4>
<pre class="prettyprint linenums lang-groovy">
dependencies {
    ...

    annotationProcessor &#39;org.mapstruct:mapstruct-processor:${mapstruct.version}&#39;
    annotationProcessor &#39;org.jetbrains.kotlin:kotlin-metadata-jvm:${kotlin.version}&#39;
}
</pre>

<p>We also have something in the pipeline for KSP, so stay tuned!</p>
<h3 id="support-for-java-21-sequenced-collections"><a class="ms-header-link" href="#support-for-java-21-sequenced-collections"><i class="fa fa-link"></i></a>Support for Java 21 Sequenced Collections</h3>
<p>When using Java 21 Sequenced Collections, MapStuct will generate the appropriate underlying implementation.</p>
<ul>
<li><code>SequencedSet</code> - This will generate a <code>SequencedSet</code> implementation using the underlying <code>LinkedHashSet</code> implementation.</li>
<li><code>SequencedMap</code> - This will generate a <code>SequencedMap</code> implementation using the underlying <code>LinkedHashMap</code> implementation.</li>
</ul>
<h3 id="support-for-ignoring-multiple-target-properties-at-once"><a class="ms-header-link" href="#support-for-ignoring-multiple-target-properties-at-once"><i class="fa fa-link"></i></a>Support for ignoring multiple target properties at once</h3>
<p>A new annotation <code>@Ignored</code> has been added to support ignoring multiple target properties at once.
Instead of writing:</p>
<pre class="prettyprint linenums lang-java">
@Mapper
public interface AnimalMapper {

    @Mapping( target = &#34;publicAge&#34;, ignore = true )
    @Mapping( target = &#34;age&#34;, ignore = true )
    @Mapping( target = &#34;publicColor&#34;, ignore = true )
    @Mapping( target = &#34;color&#34;, ignore = true )
    AnimalDto animalToDto( Animal animal );

}
</pre>

<p>You can now write:</p>
<pre class="prettyprint linenums lang-java">
@Mapper
public interface AnimalMapper {

    @Ignored( targets = { &#34;publicAge&#34;, &#34;age&#34;, &#34;publicColor&#34;, &#34;color&#34; } )
    AnimalDto animalToDto( Animal animal );

}
</pre>

<h3 id="enhancements"><a class="ms-header-link" href="#enhancements"><i class="fa fa-link"></i></a>Enhancements</h3>
<ul>
<li>Add support for locale parameter for <code>numberFormat</code> and <code>dateFormat</code> in <code>@Mapping</code> annotation.</li>
<li>Detect Builder without a factory method. i.e., if there is an inner class that ends with <code>Builder</code> and has a constructor with parameters,
it will be treated as a potential builder.
Builders through static methods on the type have a precedence.</li>
<li>Add support for custom exception for subclass exhaustive strategy for <code>@SubclassMapping</code> mapping. Available on <code>@BeanMapping</code>, <code>@Mapper</code> and <code>@MappingConfig</code>.</li>
<li>Add new <code>NullValuePropertyMappingStrategy#CLEAR</code> for clearing Collection and Map properties when updating a bean</li>
<li>Support <code>@AnnotatedWith</code> on decorators</li>
</ul>
<h3 id="enhancements-with-behavior-changes"><a class="ms-header-link" href="#enhancements-with-behavior-changes"><i class="fa fa-link"></i></a>Enhancements with behavior changes</h3>
<ul>
<li>Add warning/error for redundant <code>ignoreUnmappedSourceProperties</code> entries - If a source property that is mapped is also ignored there will be a warning/error.
The <code>unmappedSourcePolicy</code> can be used to control this behavior.</li>
<li>Warning when the target has no target properties.</li>
<li>Initialize <code>Optional</code> with <code>Optional.empty</code> instead of <code>null</code> - Before this change, MapStruct would use <code>null</code> to initialize an <code>Optional</code> target property.</li>
<li>Mark <code>String</code> to <code>Number</code> as lossy conversion - This is similar to the behavior of <code>long</code> to <code>int</code> conversion.
The <code>ReportingPolicy</code> on the <code>typeConversionPolicy</code> will be used to determine how to report the lossy conversion.</li>
</ul>
<h3 id="download"><a class="ms-header-link" href="#download"><i class="fa fa-link"></i></a>Download</h3>
<p>This concludes our tour through MapStruct 1.7 Beta1.
If you&rsquo;d like to try out the features described above, you can fetch the new release from Maven Central using the following GAV coordinates:</p>
<ul>
<li>Annotation JAR: <a href="http://search.maven.org/#artifactdetails%7Corg.mapstruct%7Cmapstruct%7C1.7.0.Beta1%7Cjar">org.mapstruct:mapstruct:1.7.0.Beta1</a></li>
<li>Annotation processor JAR: <a href="http://search.maven.org/#artifactdetails%7Corg.mapstruct%7Cmapstruct-processor%7C1.7.0.Beta1%7Cjar">org.mapstruct:mapstruct-processor:1.7.0.Beta1</a></li>
</ul>
<p>Alternatively, you can get ZIP and TAR.GZ distribution bundles - containing all the JARs, documentation etc. - <a href="https://github.com/mapstruct/mapstruct/releases/tag/1.7.0.Beta1">from GitHub</a>.</p>
<p>If you run into any trouble or would like to report a bug, feature request or similar, use the following channels to get in touch:</p>
<ul>
<li>Get help in our <a href="https://github.com/mapstruct/mapstruct/discussions%5BGitHub">https://github.com/mapstruct/mapstruct/discussions[GitHub</a> Discussions] or <a href="https://stackoverflow.com/questions/tagged/mapstruct%5BStackOverflow%5D">https://stackoverflow.com/questions/tagged/mapstruct[StackOverflow]</a></li>
<li>Report bugs and feature requests via the <a href="https://github.com/mapstruct/mapstruct/issues">issue tracker</a></li>
<li>Follow <a href="https://twitter.com/GetMapStruct">@GetMapStruct</a> on Twitter</li>
</ul></div>
    </div>
    <div>
        <ul class="uk-pagination">
            
            <li class="uk-disabled">
                <span><i class="uk-icon-angle-double-left"></i></span>
            </li>
            
            
            <li>
                <a href="/news/2025-11-15-mapstruct-spring-extensions-2-0-0-released/" title="MapStruct Spring Extensions 2.0.0 released"><i class="uk-icon-angle-double-right"></i></a>
            </li>
            

        </ul>
    </div>

    <div>
        <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'mapstruct';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
</article>

        </div>
    </div>
</div>

        <div class="ms-footer">
            <div class="uk-container uk-container-center uk-vertical-align uk-height-1-1">
                <div class="uk-vertical-align-middle uk-width-1-1">
                    <div class="uk-grid-small" >
                        <div class="uk-width-1-1 ">
                            <ul class="uk-subnav uk-subnav-line uk-flex-center ms-subnav-footer">
                                <li><a class="ms-link-footer" href="/documentation/installation">Documentation</a></li>
                                <li><a class="ms-link-footer" href="https://github.com/mapstruct/mapstruct">Source Code</a></li>
                                <li><a class="ms-link-footer" href="https://github.com/mapstruct/mapstruct/discussions">Discussions</a></li>
                                <li><a class="ms-link-footer" href="https://gitter.im/mapstruct/mapstruct-users">Gitter</a></li>
                                <li><a class="ms-link-footer" href="https://stackoverflow.com/questions/tagged/mapstruct">StackOverflow</a></li>
                                <li><a class="ms-link-footer" href="https://twitter.com/GetMapStruct">Twitter</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="uk-grid">
                        <div class="uk-width-1-1 ms-subnav-footer">
                            © The MapStruct authors 2026
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
           prettyPrint();
        </script>
    </body>
</html>

