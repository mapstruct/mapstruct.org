<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_66) on Wed Nov 25 23:05:02 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DecoratedWith (MapStruct 1.0.0.Final)</title>
<meta name="date" content="2015-11-25">
<meta name="keywords" content="org.mapstruct.DecoratedWith class">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DecoratedWith (MapStruct 1.0.0.Final)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DecoratedWith.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/mapstruct/CollectionMappingStrategy.html" title="enum in org.mapstruct"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../org/mapstruct/InheritConfiguration.html" title="annotation in org.mapstruct"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/mapstruct/DecoratedWith.html" target="_top">Frames</a></li>
<li><a href="DecoratedWith.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.required.element.summary">Required</a>&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.mapstruct</div>
<h2 title="Annotation Type DecoratedWith" class="title">Annotation Type DecoratedWith</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</a>)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#SOURCE" title="class or interface in java.lang.annotation">SOURCE</a>)
public @interface <span class="memberNameLabel">DecoratedWith</span></pre>
<div class="block">Specifies a decorator to be applied to a generated mapper, which e.g. can be used to amend mappings performed by
 generated mapping methods.
 <p>
 A typical decorator implementation will be an abstract class and only implement/override a subset of the methods of
 the mapper type which it decorates. All methods not implemented or overridden by the decorator will be implemented by
 the code generator by delegating to the generated mapper implementation.
 <p>
 <b>NOTE:</b> The usage of decorated mappers differs depending on the selected component model.
 <p>
 <b>NOTE:</b> This annotation is not supported for the component model <code>cdi</code>. Use CDI's own
 <a href="https://docs.jboss.org/cdi/spec/1.0/html/decorators.html"><code>@Decorator</code></a> feature instead.
 <p>
 <b>NOTE:</b> The decorator feature when used with component model <code>jsr330</code> is considered <em>experimental</em>
 and it may change in future releases.
 <p>
 <h2>Examples</h2>
 <p>
 For the examples below, consider the following mapper declaration:

 <pre>
 &#64;Mapper(componentModel = "...")
 &#64;DecoratedWith(PersonMapperDecorator.class)
 public interface PersonMapper {

     &#64;Mapping(target = "name", ignore = true)
     PersonDto personToPersonDto(Person person);

     AddressDto addressToAddressDto(Address address); // not touched by the decorator
 }
 </pre>

 <h3>1. Component model 'default'</h3>
 <h4>Referencing the original mapper in the decorator</h4>
 <p>
 If a constructor with a single parameter accepting the type of the decorated mapper is present, a delegate with
 generated implementations of all the mapper methods will be passed to this constructor. A typical implementation will
 store the passed delegate in a field of the decorator and make use of it in the decorator methods:

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     private PersonMapper delegate;

     public PersonMapperDecorator(PersonMapper delegate) {
         this.delegate = delegate;
     }

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4>Using the decorated mapper</h4>
 <p>
 Nothing special needs to be done. When using <code>Mappers.getMapper( PersonMapper.class )</code>, the <em>decorator</em>
 is returned, with the injected original mapper.
 <h3>2. Component model 'spring'</h3>
 <h4>Referencing the original mapper in the decorator</h4>
 <p>
 The generated implementation of the original mapper is annotated with the Spring annotation
 <code>@Qualifier("delegate")</code>. To autowire that bean in your decorator, add that qualifier annotation as well:

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     &#64;Autowired
     &#64;Qualifier("delegate")
     private PersonMapper delegate;

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4>Using the decorated mapper in the decorator</h4>
 <p>
 The generated class that extends the decorator is annotated with Spring's <code>@Primary</code> annotation. To autowire
 the decorated mapper in the application, nothing special needs to be done:

 <pre>
 &#64;Autowired
 private PersonMapper personMapper; // injects the decorator, with the injected original mapper
 </pre>

 <h3>3. Component model 'jsr330'</h3>
 <h4>Referencing the original mapper</h4>
 <p>
 JSR 330 doesn't specify qualifiers and only allows to specifically name the beans. Hence, the generated
 implementation of the original mapper is annotated with <code>@Named("fully-qualified-name-of-generated-impl")</code>
 (please note that when using a decorator, the class name of the mapper implementation ends with an underscore). To
 inject that bean in your decorator, add the same annotation to the delegate field (e.g. by copy/pasting it from the
 generated class):

 <pre>
 public abstract class PersonMapperDecorator implements PersonMapper {

     &#64;Inject
     &#64;Named("org.examples.PersonMapperImpl_")
     private PersonMapper delegate;

     &#64;Override
     public PersonDto personToPersonDto(Person person) {
         PersonDto dto = delegate.personToPersonDto( person );
         dto.setName( person.getFirstName() + " " + person.getLastName() );

         return dto;
     }
 }
 </pre>

 <h4>Using the decorated mapper in the decorator</h4>
 <p>
 Unlike with the other component models, the usage site must be aware if a mapper is decorated or not, as for
 decorated mappers, the parameterless <code>@Named</code> annotation must be added to select the <em>decorator</em> to be
 injected:

 <pre>
 &#64;Inject
 &#64;Named
 private PersonMapper personMapper; // injects the decorator, with the injected original mapper
 </pre>
 <p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Gunnar Morling</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE REQUIRED MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.required.element.summary">
<!--   -->
</a>
<h3>Required Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Required Element Summary table, listing required elements, and an explanation">
<caption><span>Required Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Required Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/mapstruct/DecoratedWith.html#value--">value</a></span></code>
<div class="block">The decorator type.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="value--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>value</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;value</pre>
<div class="block">The decorator type. Must be an abstract class that extends or implements the mapper type to which it is applied.
 <p>
 For component-model <code>default</code>, the decorator type must either have a default constructor or a constructor
 with a single parameter accepting the type of the decorated mapper.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the decorator type</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DecoratedWith.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/mapstruct/CollectionMappingStrategy.html" title="enum in org.mapstruct"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../org/mapstruct/InheritConfiguration.html" title="annotation in org.mapstruct"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/mapstruct/DecoratedWith.html" target="_top">Frames</a></li>
<li><a href="DecoratedWith.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.required.element.summary">Required</a>&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2012-2015 <a href="http://mapstruct.org/">Gunnar Morling</a>; All rights reserved. Released under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache Software License 2.0</a>.</small></p>
</body>
</html>
